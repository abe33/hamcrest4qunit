(function(q){function i(a){this.message=a?a:"";this.diff=null}function d(a){for(var b in a)this[b]=a[b];if(this._matches){if(typeof this._matches!="function")throw Error("Improperly configured matcher, the _matches argument must be a function");}else throw Error("Improperly configured matcher, the matcher expect a _matches method");if(!this._describeTo||typeof this._matches!="function")throw Error("Improperly configured matcher, the matcher expect a _describeTo method");else if(typeof this._describeTo!=
"function")throw Error("Improperly configured matcher, the _describeTo argument must be a function");}function r(a,b){for(var c in b)b[c]===void 0?delete a[c]:a[c]=b[c];return a}function j(a){for(var b=a.length,c=[],e=0;e<b;e++)c.push(a[e]);return c}function s(a){var b=[],c;for(c in a)b.push(c);b.sort();return b}function o(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&a.length>1?a[1]:""}function l(a){return"aeiouyAEIOUY".indexOf(a.substr(0,1))!=-1?"an":"a"}function h(a){var b=_$,c=String(a.nodeName).toLowerCase(),
e;e=["length","item","getNamedItem","setNamedItem","removeNamedItem","getNamedItemNS","setNamedItemNS","removeNamedItemNS"];var f="",g=[],k;for(k in a.attributes)e.indexOf(k)==-1&&g.indexOf(a.attributes[k].name)==-1&&(f+=" "+a.attributes[k].name+'="'+a.attributes[k].value+'"',g.push(a.attributes[k].name));e=f;f="";a=a.childNodes;g=a.length;for(k=0;k<g;k++)f+=a[k].nodeType==3?a[k].textContent:h(a[k]);return b("&lt;${tag}${attr}&gt;${content}&lt;/${tag}&gt;",{tag:c,attr:e,content:f})}i.prototype={toString:function(){return this.message},
clearMessage:function(){this.message="";return this},hasDiff:function(){return this.diff!=null},appendText:function(a){this.append(a);return this},appendValue:function(a){this.append(_$("<span class='value'>$0</span>",QUnit.jsDump.parse(a)));return this},appendRawValue:function(a){this.append(_$("<span class='value'>$0</span>",a));return this},appendDescriptionOf:function(a){a.describeTo(this);return this},append:function(a){this.message!=""&&(this.message+=" ");this.message+=a}};d.prototype={matches:function(a,
b){return this._matches.call(this,a,b)},describeTo:function(a){this._describeTo.call(this,a)}};var p={Matcher:d,Description:i,_$:function(a){var b,c=j(arguments);c.shift();if(c.length>0&&c[0]instanceof Object){var e=c[0],a=a.replace(/\${([^}]+)}/g,function(a,b){return e.hasOwnProperty(b)?e[b]:a});c.shift()}return a.replace(/\$([0-9]+)/g,function(a,b){var e=parseInt(b);return e<c.length?c[e]:a})},assertThat:function(){var a=j(arguments),b=null,c=null,e=null,f=new i,g=new i;switch(a.length){case 1:e=
a[0];c=equalTo(!0);break;case 3:typeof a[2]=="string"&&(b=a[2]);case 2:e=a[0];a=a[1];c=a instanceof d?a:equalTo(a);break;case 0:throw Error("Empty assertion");default:throw Error("Unsupported assertion");}f.appendDescriptionOf(c);e=c.matches(e,g);p.push(e,g,f,b!=null?b:e?"okay":"failed")},push:function(a,b,c,e){e={result:a,message:e};b=_$('<span class="test-message">${message}</span>                              <table>                                  <tr class="test-expected"><th>Expected: </th><td><pre>${expectedMsg}</pre></td></tr>                                  ${resultMsg}                                  ${diffMsg}                              </table>',
r({resultMsg:_$('<tr class="test-actual"><th>$1 </th><td><pre>$0</pre></td></tr>',b.message,!a?"But:":"And:"),expectedMsg:c.message,diffMsg:b.hasDiff()?_$('<tr class="test-diff"><th>Diff: </th><td><pre>$0</pre></td></tr>',b.diff):""},e));QUnit.log(e);QUnit.config.current.assertions.push({result:a,message:b})},equalTo:function(a){return new d({value:a,_matches:function(b,c){c.appendText("was").appendValue(b);if(b instanceof Array&&a instanceof Array){var e=b.length;if(e!=a.length)return c.appendText("with a length of").appendValue(e),
!1;else{for(var f=!1,g=0;g<e;g++)b[g]!=a[g]&&(f&&c.appendText("and"),c.appendText("with").appendValue(b[g]).appendText("at index").appendValue(g).appendText("instead of").appendValue(a[g]),f=!0);if(f)c.diff=QUnit.diff(QUnit.jsDump.parse(a),QUnit.jsDump.parse(b));return!f}}return b==this.value?!0:(c.diff=QUnit.diff(QUnit.jsDump.parse(a),QUnit.jsDump.parse(b)),!1)},_describeTo:function(a){a.appendValue(this.value)}})},not:function(a){return new d({submatch:a,_matches:function(a,c){return this.submatch instanceof
d?!this.submatch.matches(a,c):(c.appendText("was").appendValue(a),a!=this.submatch)},_describeTo:function(a){this.submatch instanceof d?(a.appendText("not"),this.submatch.describeTo(a)):a.appendText("not").appendValue(this.submatch)}})},nullValue:function(){return new d({_matches:function(a,b){b.appendText("was").appendValue(a);return a==null?!0:!1},_describeTo:function(a){a.appendValue(null)}})},notNullValue:function(){return new d({_matches:function(a,b){b.appendText("was").appendValue(a);return a!=
null?!0:!1},_describeTo:function(a){a.appendText("not").appendValue(null)}})},anything:function(){return new d({_matches:function(a,b){b.appendText("was").appendValue(a);return!0},_describeTo:function(a){a.clearMessage().appendText("anything")}})},isA:function(a){return new d({type:a,_matches:function(a,c){c.appendText("was").appendValue(a);return typeof a==this.type},_describeTo:function(a){a.appendText(l(this.type)).appendRawValue(this.type)}})},describedAs:function(a,b){if(a==null||!(a instanceof
d))throw"describedAs first argument must be a valid Matcher instance";else if(b==null||typeof b!="string")throw"describedAs second argument must be a valid string";var c=j(arguments);c.shift();c.shift();return new d({description:b,matcher:a,extraArgs:c,_matches:function(a,b){return this.matcher.matches(a,b)},_describeTo:function(a){a.appendText(_$.apply(null,[this.description].concat(c)))}})},allOf:function(){for(var a=j(arguments),b=[],c=a.length,e=0;e<c;e++){var f=a[e];f instanceof d?b.push(f):
b.push(equalTo(f))}return new d({matchers:b,_matches:function(a,b){b.appendText("was").appendValue(a);for(var c=this.matchers.length,e=!1,f=0;f<c;f++){var d=this.matchers[f],j=new i;d.matches(a,j)||(e=!0)}return!e},_describeTo:function(a){var b=this.matchers.length;a.appendText("(");this.matchers.map(function(c,e){new i;e==b-1?a.appendText("and"):e>0&&a.appendText(",");c.describeTo(a)});a.appendText(")")}})},anyOf:function(){for(var a=j(arguments),b=[],c=a.length,e=0;e<c;e++){var f=a[e];f instanceof
d?b.push(f):b.push(equalTo(f))}return new d({matchers:b,_matches:function(a,b){b.appendText("was ").appendValue(a);for(var c=this.matchers.length,e=!1,f=0;f<c;f++){var d=this.matchers[f],j=new i;d.matches(a,j)&&(e=!0)}return e},_describeTo:function(a){a.appendText("(");var b=this.matchers.length;this.matchers.map(function(c,e){e==b-1?a.appendText("or"):e>0&&a.appendText(",");c.describeTo(a)});a.appendText(")")}})},both:function(a){return new d({matchA:a instanceof d?a:equalTo(a),and:function(a){this.matchB=
a instanceof d?a:equalTo(a);return this},_matches:function(a,c){if(!this.matchB)throw Error("the both..and matcher require an 'and' assertion");var e=new i,f=new i,g=this.matchA.matches(a,e),d=this.matchB.matches(a,f);g&&d?c.appendText("was").appendValue(a):(g||c.appendText(e),!g&&!d&&c.appendText("and"),d||c.appendText(f));return g&&d},_describeTo:function(a){if(!this.matchB)throw Error("the both..and matcher require an 'and' assertion");a.appendText("both").appendDescriptionOf(this.matchA).appendText("and").appendDescriptionOf(this.matchB)}})},
either:function(a){return new d({matchA:a instanceof d?a:equalTo(a),or:function(a){this.matchB=a instanceof d?a:equalTo(a);return this},_matches:function(a,c){c.appendText("was").appendValue(a);if(!this.matchB)throw Error("the either..or matcher require an 'or' assertion");var e=new i;return this.matchA.matches(a,e)||this.matchB.matches(a,e)},_describeTo:function(a){if(!this.matchB)throw Error("the either..or matcher require an 'or' assertion");a.appendText("either").appendDescriptionOf(this.matchA).appendText("or").appendDescriptionOf(this.matchB)}})},
nanValue:function(){return new d({_matches:function(a,b){b.appendText("was").appendValue(a);return isNaN(a)},_describeTo:function(a){a.appendValue(NaN)}})},notNanValue:function(){return new d({_matches:function(a,b){b.appendText("was").appendValue(a);return!isNaN(a)},_describeTo:function(a){a.appendText("not").appendValue(NaN)}})},between:function(a,b){if(isNaN(a))throw Error("a must be a valid number");if(isNaN(b))throw Error("b must be a valid number");if(a>=b)throw Error("b must be a greater number than a");
return new d({a:a,b:b,included:!1,inclusive:function(){this.included=!0;return this},_matches:function(a,b){return this.included?a>=this.a&&a<=this.b?(b.appendText("was").appendValue(a),!0):(a<this.a?b.appendValue(a).appendText("was lower than the min value").appendValue(this.a):b.appendValue(a).appendText("was greater than the max value").appendValue(this.b),!1):a>this.a&&a<this.b?(b.appendText("was").appendValue(a),!0):(a<=this.a?b.appendValue(a).appendText("was lower or equal to the min value").appendValue(this.a):
b.appendValue(a).appendText("was greater or equal to the max value").appendValue(this.b),!1)},_describeTo:function(a){a.appendText("a Number between").appendValue(this.a).appendText("and").appendValue(this.b);this.included?a.appendText("inclusive"):a.appendText("exclusive")}})},closeTo:function(a,b){if(isNaN(a))throw Error("a must be a valid number");if(isNaN(b))throw Error("b must be a valid number");return new d({a:a,b:b,_matches:function(a,b){var f=Math.floor(Math.abs(this.a-a)*1E10)/1E10;if(f<=
this.b)return b.appendText("was").appendValue(a),!0;else b.appendValue(a).appendText("differed by").appendValue(f-this.b)},_describeTo:function(a){a.appendText("a Number within").appendValue(this.b).appendText("of").appendValue(this.a)}})},atLeast:function(a){return greaterThanOrEqualTo(a)},greaterThanOrEqualTo:function(a){return greaterThan(a,!0)},greaterThan:function(a,b){if(isNaN(a))throw Error("The comparison value must be a valid number");return new d({n:a,included:b,inclusive:function(){this.included=
!0;return this},_matches:function(a,b){return this.included?a>=this.n?(b.appendText("was").appendValue(a),!0):(b.appendValue(a).appendText("was not greater than").appendText("or equal to").appendValue(this.n),!1):a>this.n?(b.appendText("was").appendValue(a),!0):(b.appendValue(a).appendText("was not greater than").appendValue(this.n),!1)},_describeTo:function(a){a.appendText("a Number greater than");this.included&&a.appendText("or equal to");a.appendValue(this.n)}})},atMost:function(a){return lowerThanOrEqualTo(a)},
lowerThanOrEqualTo:function(a){return lowerThan(a,!0)},lowerThan:function(a,b){if(isNaN(a))throw Error("The comparison value must be a valid number");return new d({n:a,included:b,inclusive:function(){this.included=!0;return this},_matches:function(a,b){return this.included?a<=this.n?(b.appendText("was").appendValue(a),!0):(b.appendValue(a).appendText("was not lower than").appendText("or equal to").appendValue(this.n),!1):a<this.n?(b.appendText("was").appendValue(a),!0):(b.appendValue(a).appendText("was not lower than").appendValue(this.n),
!1)},_describeTo:function(a){a.appendText("a Number lower than");this.included&&a.appendText("or equal to");a.appendValue(this.n)}})},arrayWithLength:function(a){if(isNaN(a))throw Error("length argument must be a valid number");if(a<0)throw Error("length argument must be greater than or equal to 0");return new d({length:a,_matches:function(a,c){c.appendText("was").appendValue(a);return a!=null&&a instanceof Array&&a.length==this.length},_describeTo:function(a){a.appendText("an Array with").appendValue(this.length).appendText(this.length>
1?"items":"item")}})},emptyArray:function(){return new d({_matches:function(a,b){b.appendText("was").appendValue(a);return a!=null&&a instanceof Array&&a.length==0},_describeTo:function(a){a.appendText("an empty Array")}})},array:function(){var a=j(arguments),b=[],c=a.length;if(c==0)return emptyArray();for(var e=0;e<c;e++){var f=a[e];f instanceof d?b.push(f):b.push(equalTo(f))}return new d({matchers:b,_matches:function(a,b){var c=this.matchers.length;if(a==null)return b.appendText("was").appendValue(null),
!1;else if(a instanceof Array)if(a.length!=c)return b.appendText("was an Array with").appendValue(a.length).appendText(a.length>1?"items":"item"),!1;else{var e=this.matchers,f=!1;b.appendText("was [");a.forEach(function(a,g){var d=new i;e[g].matches(a,d)?b.appendValue(a):(b.appendText(d.message),f=!0);g<c-1&&b.appendText(",")});b.appendText("]");return!f}else return b.appendText("was").appendValue(a),!1},_describeTo:function(a){var b=this.matchers.length;a.appendText("an Array with").appendValue(b).appendText(b>
1?"items":"item").appendText("like [");for(var c=0;c<b;c++)a.appendDescriptionOf(this.matchers[c]),c<b-1&&a.appendText(",");a.appendText("]")}})},everyItem:function(a){if(!a)throw Error("everyItem must receive an argument");a instanceof d||(a=equalTo(a));return new d({matcher:a,_matches:function(a,c){if(a==null)return c.appendText("was").appendValue(null),!1;else if(a instanceof Array){for(var e=a.length,f=0;f<e;f++){var g=new i;if(!this.matcher.matches(a[f],g))return c.appendText(g.message).appendText("at index").appendValue(f),
!1}c.appendText("was").appendValue(a);return!0}else return c.appendText("was").appendValue(a),!1},_describeTo:function(a){a.appendText("an Array of which every item is").appendDescriptionOf(this.matcher)}})},hasItem:function(a){if(!a)throw Error("hasItem must receive an argument");a instanceof d||(a=equalTo(a));return new d({matcher:a,_matches:function(a,c){if(a==null)c.appendText("was").appendValue(null);else if(a instanceof Array){for(var e=a.length,f=0;f<e;f++){var g=new i;if(this.matcher.matches(a[f],
g))return c.appendText("was").appendValue(a),!0}c.appendText("can't find any")}else c.appendText("was").appendValue(a);return!1},_describeTo:function(a){a.appendText("an Array containing").appendDescriptionOf(this.matcher)}})},hasItems:function(){var a=j(arguments);if(a.length==0)throw Error("hasItems must receive at least one argument");for(var b=[],c=a.length,e=0;e<c;e++){var f=a[e];f instanceof d?b.push(f):b.push(equalTo(f))}return new d({matchers:b,_matches:function(a,b){if(a==null)return b.appendText("was").appendValue(null),
!1;else if(a instanceof Array){for(var c=this.matchers.length,e=a.length,f=!0,d=[],j=new i,h=0;h<c;h++){for(var l=this.matchers[h],n=!1,m=0;m<e;m++)n=l.matches(a[m],j)||n;n||(m=new i,m.appendDescriptionOf(l),d.push(m));f=n&&f}if(f)b.appendText("was").appendValue(a);else if(d.length==1)b.appendText("can't find").appendText(d);else{c=d.length;b.appendText("can't find neither");for(h=0;h<c;h++)h==c-1?b.appendText("nor"):h>0&&b.appendText(","),b.appendText(d[h])}return f}else return b.appendText("was").appendValue(a),
!1},_describeTo:function(a){a.appendText("an Array containing");for(var b=this.matchers.length,c=0;c<b;c++){var e=this.matchers[c];c==b-1?a.appendText("and"):c>0&&a.appendText(",");a.appendDescriptionOf(e)}}})},startsWith:function(a){if(!a)throw Error("startsWith must receive an argument");return new d({start:a,_matches:function(a,c){c.appendText("was").appendValue(a);return a==null||typeof a!="string"?!1:a.indexOf(this.start)==0},_describeTo:function(a){a.appendText("a String starting with").appendValue(this.start)}})},
endsWith:function(a){if(!a)throw Error("endsWith must receive an argument");return new d({end:a,_matches:function(a,c){c.appendText("was").appendValue(a);return a==null||typeof a!="string"?!1:a.indexOf(this.end)==a.length-this.end.length},_describeTo:function(a){a.appendText("a String ending with").appendValue(this.end)}})},contains:function(a){if(!a)throw Error("endsWith must receive an argument");return new d({search:a,_matches:function(a,c){c.appendText("was").appendValue(a);return a==null||typeof a!=
"string"?!1:a.indexOf(this.search)!=-1},_describeTo:function(a){a.appendText("a String containing").appendValue(this.search)}})},stringWithLength:function(a){if(isNaN(a))throw Error("length argument must be a valid number");if(a<0)throw Error("length argument must be greater than or equal to 0");if(a==0)return emptyString();return new d({length:a,_matches:function(a,c){return a==null?(c.appendText("was").appendValue(a),!1):typeof a!="string"?(c.appendText("was").appendValue(a),!1):a.length==this.length?
(c.appendText("was").appendValue(a),!0):(c.appendValue(a).appendText("is a String of length").appendValue(a.length),!1)},_describeTo:function(a){a.appendText("a String with a length of").appendValue(this.length)}})},emptyString:function(){return new d({_matches:function(a,b){return a==null?(b.appendText("was").appendValue(a),!1):typeof a!="string"?(b.appendText("was").appendValue(a),!1):a.length==0?(b.appendText("was").appendValue(a),!0):(b.appendValue(a).appendText("is a String of length").appendValue(a.length),
!1)},_describeTo:function(a){a.appendText("an empty String")}})},matchRe:function(a){if(!a)throw Error("the re argument cannot be null");if(!(a instanceof RegExp)&&typeof a!="string")throw Error("the re argument must be a regexp or a string");typeof a=="string"&&(a=RegExp(a,"gi"));return new d({re:a,_matches:function(a,c){c.appendText("was").appendValue(a);return a==null||typeof a!="string"?!1:this.re.exec(a)},_describeTo:function(a){a.appendText("a String which match").appendRawValue(String(this.re))}})},
strictlyEqualTo:function(a){return new d({value:a,_matches:function(b,c){c.appendText("was ").appendValue(b);return b===this.value?!0:(c.diff=QUnit.diff(QUnit.jsDump.parse(a),QUnit.jsDump.parse(b)),!1)},_describeTo:function(a){a.appendText("a value strictly equal to").appendValue(this.value)}})},hasProperty:function(a,b){if(!a)throw Error("hasProperty must have at least a property name");b!=null&&!(b instanceof d)&&(b=equalTo(b));return new d({property:a,value:b,_matches:function(a,b){if(a==null||
typeof a!="object")return b.appendText("was").appendValue(a),!1;else if(a.hasOwnProperty(this.property))if(this.value!=null){var f=new i,d=this.value.matches(a[this.property],f);d?b.appendText("was").appendValue(a):(b.appendText(f),b.diff=f.diff);return d}else return b.appendText("was").appendValue(a),!0;else return b.appendValue(a).appendText("don't have a property named").appendRawValue(this.property),!1},_describeTo:function(a){a.appendText("an Object with a property").appendRawValue(this.property);
this.value!=null&&a.appendText("of which value is").appendDescriptionOf(this.value)}})},hasProperties:function(a){if(!a)throw Error("the hasProperties kwargs arguments is mandatory");for(var b in a)a[b]instanceof d||(a[b]=equalTo(a[b]));return new d({kwargs:a,_matches:function(a,b){if(a==null||typeof a!="object")return b.appendText("was").appendValue(a),!1;else{var f=!1,d;for(d in this.kwargs){var k=this.kwargs[d];if(a.hasOwnProperty(d)){var h=a[d],j=new i;k.matches(h,j)||(f&&b.appendText(","),b.appendRawValue(d).appendText(":").appendText(j),
f=!0)}else f&&b.appendText(","),b.appendRawValue(d).appendText("was not defined"),f=!0}f||b.appendText("was").appendValue(a);return!f}},_describeTo:function(a){var b=s(this.kwargs),f=b.length;a.appendText("an Object which has properties");for(var d=0;d<f;d++){var k=b[d],i=this.kwargs[k];d==f-1?a.appendText("and"):d>0&&a.appendText(",");a.appendRawValue(k).appendText(":").appendDescriptionOf(i)}}})},hasMethod:function(a,b,c,e){if(!a||typeof a!="string")throw Error("hasMethod expect a function name");
b!=null&&!(b instanceof d)&&(b=equalTo(b));return new d({method:a,returnsMatcher:b,throwsMatcher:e,checkThrows:!1,noArgs:!1,arguments:c,returns:function(a){a!=null&&!(a instanceof d)&&(a=equalTo(a));this.returnsMatcher=a;return this},withoutArgs:function(){this.noArgs=!0;return this},withArgs:function(){this.arguments=j(arguments);return this},throwsError:function(a){a&&!(a instanceof d)&&(a=equalTo(a));this.throwsMatcher=a;this.checkThrows=!0;return this},_matches:function(a,b){if(a==null||typeof a!=
"object")return b.appendValue(a).appendText("is not an Object"),!1;else if(typeof a[this.method]=="function")if(this.checkThrows){var c=null;try{a[this.method].apply(a,this.noArgs?[]:this.arguments)}catch(e){if(this.throwsMatcher){var d=new i;(c=this.throwsMatcher.matches(e,d))?b.appendText("an exception was thrown and").appendText(d):(b.appendText("an exception was thrown but").appendText(d),b.diff=d.diff)}else b.appendValue(e).appendText("was thrown"),c=!0}c==null&&(b.appendText("no exception was thrown"),
c=!1);return c}else return this.returnsMatcher?(c=a[this.method].apply(a,this.noArgs?[]:this.arguments),d=new i,c=this.returnsMatcher.matches(c,d),b.diff=d.diff,b.appendText("was").appendValue(a).appendText("of which method").appendRawValue(this.method).appendText("returns").appendText(d),c):(b.appendText("was").appendValue(a),!0);else return a[this.method]==void 0?b.appendValue(a).appendText("do not have a").appendRawValue(this.method).appendText("method"):b.appendValue(a).appendText("have a").appendRawValue(this.method).appendText("property, but it is not a function"),
!1},_describeTo:function(a){a.appendText("an Object with a method").appendRawValue(this.method);this.checkThrows?(this.throwsMatcher?a.appendText("which throw").appendDescriptionOf(this.throwsMatcher).appendText("when called"):a.appendText("which throw an exception when called"),!this.noArgs&&this.arguments&&this.arguments.length>0?a.appendText("with").appendValue(this.arguments).appendText("as arguments"):a.appendText("without arguments")):this.returnsMatcher!=null&&(a.appendText("which returns").appendDescriptionOf(this.returnsMatcher).appendText("when called"),
!this.noArgs&&this.arguments&&this.arguments.length>0?a.appendText("with").appendValue(this.arguments).appendText("as arguments"):a.appendText("without arguments"))}})},propertiesCount:function(a){if(isNaN(a))throw Error("length argument must be a valid number");if(a<0)throw Error("length argument must greater than or equal to 0");return new d({length:a,_matches:function(a,c){if(a==null||typeof a!="object"||a instanceof Array)return c.appendText("was").appendValue(a),!1;else{var e=s(a).length;return this.length==
e?(c.appendText("was").appendValue(a),!0):(c.appendText("was an Object with").appendValue(e).appendText(e>1?"properties":"property"),!1)}},_describeTo:function(a){a.appendText("an Object with").appendValue(this.length).appendText(this.length>1?"properties":"property")}})},instanceOf:function(a){if(!a)throw Error("type argument is mandatory");return new d({type:a,_matches:function(a,c){var e;e=a===null?"Null":(e=/\[object (.{1,})\]/.exec(Object.prototype.toString.call(a)))&&e.length>1?e[1]:"";var d=
o(this.type);return d==e?(c.appendText("was "+l(e)).appendRawValue(e),!0):a instanceof this.type?(c.appendText("was "+l(d)).appendRawValue(d),!0):(c.appendText("was "+l(e)).appendRawValue(e),!1)},_describeTo:function(a){a.appendText(l(o(this.type))).appendRawValue(o(this.type))}})},dateAfterOrEqualTo:function(a){return dateAfter(a,!0)},dateAfter:function(a,b){if(!a||!(a instanceof Date))throw Error("dateAfter must have a valid comparison date");return new d({date:a,included:b,inclusive:function(){this.included=
!0;return this},_matches:function(a,b){return a==null||!(a instanceof Date)?(b.appendText("was").appendValue(a),!1):this.included?a>=this.date?(b.appendText("was").appendRawValue(a.toString()),!0):(b.appendRawValue(a.toString()).appendText("is not after or equal to").appendRawValue(this.date.toString()),!1):a>this.date?(b.appendText("was").appendRawValue(a.toString()),!0):(b.appendRawValue(a.toString()).appendText("is not after").appendRawValue(this.date.toString()),!1)},_describeTo:function(a){this.included?
a.appendText("a date after or equal to").appendRawValue(this.date.toString()):a.appendText("a date after").appendRawValue(this.date.toString())}})},dateBeforeOrEqualTo:function(a){return dateBefore(a,!0)},dateBefore:function(a,b){if(!a||!(a instanceof Date))throw Error("dateBefore must have a valid comparison date");return new d({date:a,included:b,inclusive:function(){this.included=!0;return this},_matches:function(a,b){return a==null||!(a instanceof Date)?(b.appendText("was").appendValue(a),!1):
this.included?a<=this.date?(b.appendText("was").appendRawValue(a.toString()),!0):(b.appendRawValue(a.toString()).appendText("is not before or equal to").appendRawValue(this.date.toString()),!1):a<this.date?(b.appendText("was").appendRawValue(a.toString()),!0):(b.appendRawValue(a.toString()).appendText("is not before").appendRawValue(this.date.toString()),!1)},_describeTo:function(a){this.included?a.appendText("a date before or equal to").appendRawValue(this.date.toString()):a.appendText("a date before").appendRawValue(this.date.toString())}})},
dateBetween:function(a,b,c){if(!a||!(a instanceof Date))throw Error("dateBetween must have a valid first date");if(!b||!(b instanceof Date))throw Error("dateBetween must have a valid first date");if(b<=a)throw Error("dateBetween second date must be after the first date");return new d({a:a,b:b,included:c,inclusive:function(){this.included=!0;return this},_matches:function(a,b){return!a||!(a instanceof Date)?(b.appendText("was").appendValue(a),!1):this.included?a<this.a?(b.appendRawValue(a.toString()).appendText("is before the min date").appendRawValue(this.a.toString()),
!1):a>this.b?(b.appendRawValue(a.toString()).appendText("is after the max date").appendRawValue(this.b.toString()),!1):(b.appendText("was").appendRawValue(a.toString()),!0):a<=this.a?(b.appendRawValue(a.toString()).appendText("is before or equal to the min date").appendRawValue(this.a.toString()),!1):a>=this.b?(b.appendRawValue(a.toString()).appendText("is after or equal to the max date").appendRawValue(this.b.toString()),!1):(b.appendText("was").appendRawValue(a.toString()),!0)},_describeTo:function(a){a.appendText("a date between").appendRawValue(this.a.toString()).appendText("and").appendRawValue(this.b.toString());
this.included&&a.appendText("inclusive")}})},dateEquals:function(a){if(!a||!(a instanceof Date))throw Error("dateEquals expect a valid Date object as argument");return new d({date:a,_matches:function(a,c){return!a||!(a instanceof Date)?(c.appendText("was").appendValue(a),!1):(c.appendText("was").appendRawValue(a.toString()),a.getTime()==this.date.getTime())},_describeTo:function(a){a.appendText("a Date equal to").appendRawValue(this.date.toString())}})},throwsError:function(a,b,c){a&&!(a instanceof
d)&&(a=equalTo(a));return new d({errorMatcher:a,scope:b,arguments:c,noArgs:!1,withoutArgs:function(){this.noArgs=!0;return this},withArgs:function(){this.arguments=j(arguments);return this},withScope:function(a){this.scope=a;return this},_matches:function(a,b){if(!a||typeof a!="function")return b.appendValue(a).appendText("is not a function"),!1;else{var c=null;try{a.apply(this.scope,this.noArgs?[]:this.arguments)}catch(d){if(this.errorMatcher){var h=new i;(c=this.errorMatcher.matches(d,h))?b.appendText("an exception was thrown and").appendText(h):
(b.appendText("an exception was thrown but").appendText(h),b.diff=h.diff)}else b.appendValue(d).appendText("was thrown"),c=!0}c===null&&(c=!1,b.appendValue(a).appendText("doesn't thrown"),this.errorMatcher?b.appendDescriptionOf(this.errorMatcher):b.appendText("any exception"));return c}},_describeTo:function(a){a.appendText("a Function which throws");this.errorMatcher?a.appendDescriptionOf(this.errorMatcher):a.appendText("an exception");(this.scope||this.arguments||this.noArgs)&&a.appendText("when called");
this.scope&&a.appendText("with scope").appendValue(this.scope);this.scope&&(this.arguments||this.noArgs)&&a.appendText("and");!this.noArgs&&this.arguments&&this.arguments.length>0?a.appendText("with arguments").appendValue(this.arguments):this.noArgs&&a.appendText("without arguments")}})},returns:function(a,b,c){a!=null&&!(a instanceof d)&&(a=equalTo(a));return new d({returnsMatcher:a,arguments:c,noArgs:!1,scope:b,withoutArgs:function(){this.noArgs=!0;return this},withArgs:function(){this.arguments=
j(arguments);return this},withScope:function(a){this.scope=a;return this},_matches:function(a,b){if(a==null||typeof a!="function")return b.appendValue(a).appendText("is not a Function"),!1;else{var c=a.apply(this.scope,this.noArgs?[]:this.arguments);if(this.returnsMatcher){var d=new i,c=this.returnsMatcher.matches(c,d);b.appendText("was").appendValue(a).appendText("of which returns").appendText(d);b.diff=d.diff;return c}else return c===void 0?(b.appendText("was").appendValue(a).appendText("which returned nothing"),
!1):(b.appendText("was").appendValue(a).appendText("of which returns was").appendValue(c),!0)}},_describeTo:function(a){a.appendText("a Function that returns");this.returnsMatcher?a.appendDescriptionOf(this.returnsMatcher):a.appendText("anything");(this.scope||this.arguments||this.noArgs)&&a.appendText("when called");this.scope&&a.appendText("with scope").appendValue(this.scope);this.scope&&(this.arguments||this.noArgs)&&a.appendText("and");!this.noArgs&&this.arguments&&this.arguments.length>0?a.appendText("with arguments").appendValue(this.arguments):
this.noArgs&&a.appendText("without arguments")}})},equalToNode:function(a){if(a==null)throw"equalToNode expect an argument";else if(!(a instanceof Node))throw"equalToNode except a Node object as argument";return new d({node:a,_matches:function(a,c){return a==null||!(a instanceof Node)?(c.appendText("was").appendValue(a),!1):(c.appendText("was").appendRawValue(h(a)),a.isEqualNode(this.node)?!0:(c.diff=QUnit.diff(h(this.node),h(a)),!1))},_describeTo:function(a){a.appendText("a Node equal to").appendRawValue(h(this.node))}})},
hasAttribute:function(a,b){if(a==null)throw"hasAttribute expect an attribute name";else if(typeof a!="string")throw"attribute name must be a string";b!=null&&!(b instanceof d)&&(b=equalTo(b));return new d({attribute:a,matcher:b,_matches:function(a,b){if(a==null||!(a instanceof Node))return b.appendText("was").appendValue(a),!1;else if(a.attributes[this.attribute]!=void 0)if(this.matcher){var d=a.attributes[this.attribute].value,g=new i;return this.matcher.matches(d,g)?(b.appendText("was").appendRawValue(h(a)),
!0):(b.appendText("attribute").appendRawValue(this.attribute).appendText("value").appendText(g).appendText("in").appendRawValue(h(a)),b.diff=g.diff,!1)}else return b.appendText("was").appendRawValue(h(a)),!0;else b.appendRawValue(h(a)).appendText("do not have an attribute").appendRawValue(this.attribute)},_describeTo:function(a){a.appendText("a Node with an attribute").appendRawValue(this.attribute);this.matcher&&a.appendText("of which value is").appendDescriptionOf(this.matcher)}})}};r(q,p);q.hamcrest=
p})(this);
